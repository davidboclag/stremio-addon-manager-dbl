<div class="addon-tabs-container">
  <!-- Tabs -->
  <ul class="nav nav-tabs mb-3" role="tablist">
    <li
      class="nav-item"
      *ngFor="let addon of addons; let i = index"
      [hidden]="addon.hideTab"
    >
      <a
        href="#"
        class="nav-link"
        [class.active]="i === activeIndex"
        (click)="selectTab(i); $event.preventDefault()"
      >
        {{ addon.name }}
      </a>
    </li>
  </ul>

  <!-- Loader -->
  <div class="iframe-wrapper position-relative mb-3">
    <div class="loader-overlay" *ngIf="loading">
      <div
        class="spinner-border text-primary"
        role="status"
        aria-hidden="true"
      ></div>
      <span class="ms-2">Cargando addon...</span>
    </div>

    <!-- Iframes -->
    <ng-container *ngFor="let url of iframeUrls; let i = index">
      <iframe
        *ngIf="i === activeIndex && url"
        class="addon-iframe"
        width="100%"
        height="600"
        [src]="url"
        frameborder="0"
        (load)="onIframeLoaded()"
      ></iframe>
    </ng-container>
  </div>

  <!-- Notas -->
  <div class="card bg-dark text-light">
    <div class="card-body">
      <h5 class="card-title">Notas</h5>
      <p class="card-text">
        Haz clic en cada pestaña para abrir cada addon en su propio iframe. Los
        addons que requieren Real-Debrid se habilitan sólo si introduces un
        token válido. Si algún iframe no carga puede ser por política CORS o
        bloqueo de la página remota — en ese caso el botón individual abrirá en
        nueva pestaña.
      </p>
      <p class="mb-0">
        Orden recomendado de addons: <br />
        <small>
          Cinemata, Local Files, Watchhub, AIOLists, (oficial), Torrentio | RD,
          Comet | RD, MediaFusion | RD, Peerflix | RD, Jackettio (ElfHosted RD),
          ThePirateBay+, Nuvio Streams, WebStreamr, Anime Kitsu, Animes' Season.
        </small>
      </p>
    </div>
  </div>
</div>
