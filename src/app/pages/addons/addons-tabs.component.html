<!-- Solo la versión accesible y semántica de tabs y iframes -->
<nav
  class="addon-tabs-container"
  role="tablist"
  [attr.aria-label]="'ADDONS.TABS' | translate"
>
  <ul class="nav nav-tabs mb-3">
    @for (addon of visibleAddons(); track addon.name; let i = $index) {
    <li class="nav-item">
      <a
        href="#"
        class="nav-link"
        [class.active]="i === activeIndex()"
        (click)="selectTab(i); $event.preventDefault()"
        role="tab"
        [attr.aria-selected]="i === activeIndex()"
        [attr.aria-controls]="'addon-tab-' + i"
      >
        {{ addon.name }}
      </a>
    </li>
    }
  </ul>
</nav>
<section>
  <div class="iframe-wrapper position-relative mb-3">
    @if (loading()) {
    <div class="loader-overlay" role="status" aria-live="polite">
      <div class="spinner-border text-primary" aria-hidden="true"></div>
      <span class="ms-2">{{ "ADDONS.LOADING_ADDON" | translate }}</span>
    </div>
    } @for (addon of visibleAddons(); track addon.name; let i = $index) { @if (i
    === activeIndex() && iframeUrls().get(addon.name)) {
    <iframe
      class="addon-iframe"
      width="100%"
      height="600"
      [src]="iframeUrls().get(addon.name)!"
      frameborder="0"
      (load)="onIframeLoaded()"
      [attr.id]="'addon-tab-' + i"
      [title]="'ADDONS.ADDON_TITLE' | translate : { name: addon.name }"
    ></iframe>
    } }
  </div>
</section>
